!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);let e=new Shiny.InputBinding;$.extend(e,{find:e=>e.querySelectorAll(".yonder-button-group[id]"),getType:e=>"yonder.button.group",initialize:e=>{$(e).on("click","button",(t=>{e.setAttribute("data-value",t.currentTarget.value)}))},getValue:e=>{let t=e.getAttribute("data-value");return void 0===t&&(t=null),{force:Date.now(),value:t}},subscribe:(e,t)=>{let l=$(e);l.on("click.yonder","button",(e=>t())),l.on("buttongroup.value.yonder",(e=>t()))},unsubscribe:e=>$(e).off(".yonder"),receiveMessage:(e,t)=>{t.content&&(e.innerHTML=t.content),t.value&&e.setAttribute("data-value",t.value),t.enable&&e.querySelectorAll("button").forEach((e=>{(!0===t.enable||t.enable.indexOf(e.value)>-1)&&(e.classList.remove("disabled"),e.removeAttribute("disabled"))})),t.disable&&e.querySelectorAll("button").forEach((e=>{(!0===t.disable||t.disable.indexOf(e.value)>-1)&&(e.classList.add("disabled"),e.setAttribute("disabled",""))}))}}),Shiny.inputBindings.register(e,"yonder.buttonGroupInput");let t=new Shiny.InputBinding;$.extend(t,{find:e=>e.querySelectorAll(".yonder-button[id]"),initialize:e=>{$(e).on("click",(t=>e.value=+e.value+1)),e.value=0},getValue:e=>+e.value>0?+e.value:null,subscribe:(e,t)=>{let l=$(e);l.on("click.yonder",(e=>t())),l.on("button.value.yonder",(e=>t()))},unsubscribe:(e,t)=>$(e).off(".yonder"),receiveMessage:(e,t)=>{t.content&&(e.innerHTML=t.content),null!==t.value&&void 0!==t.value&&(e.value=t.value,$(e).trigger("button.value.yonder")),t.enable&&(e.classList.remove("disabled"),e.removeAttribute("disabled")),t.disable&&(e.classList.add("disabled"),e.setAttribute("disabled","")),null!==t.tooltip&&(e.setAttribute("data-animation",t.tooltip.fade),e.setAttribute("data-html","true"),e.setAttribute("data-placement",t.tooltip.placement),e.setAttribute("data-toggle","tooltip"),e.setAttribute("title",t.tooltip.title),e.setAttribute("data-original-title",t.tooltip.title),$(e).tooltip(),e.matches(":hover")&&$(e).tooltip("show"))}}),Shiny.inputBindings.register(t,"yonder.buttonInput");let l=new Shiny.InputBinding;$.extend(l,{find:e=>e.querySelectorAll(".yonder-checkbar[id]"),getValue:e=>{let t=e.querySelectorAll("input:checked:not(:disabled)");return 0===t.length?null:Array.prototype.map.call(t,(e=>e.value))},subscribe:(e,t)=>{let l=$(e);l.on("click.yonder",(e=>t())),l.on("change.yonder",(e=>t())),l.on("checkbar.select.yonder",(e=>t()))},unsubscribe:e=>$(e).off(".yonder"),receiveMessage:(e,t)=>{if(t.content&&(e.querySelectorAll(".btn").forEach((t=>{e.removeChild(t)})),e.insertAdjacentHTML("afterbegin",t.content)),t.selected&&(!0!==t.selected&&e.querySelectorAll("input:checked").forEach((e=>{e.checked=!1,e.parentNode.classList.remove("active")})),e.querySelectorAll("input").forEach((e=>{(!0===t.selected||t.selected.indexOf(e.value)>-1)&&(e.checked=!0,e.parentNode.classList.add("active"))})),$(e).trigger("checkbar.select.yonder")),t.enable){let l=t.enable;!0===l?e.querySelectorAll(".btn").forEach((e=>{e.classList.remove("disabled"),e.children[0].removeAttribute("disabled")})):e.querySelectorAll(".btn").forEach((e=>{l.indexOf(e.value)>-1&&(e.classList.remove("disabled"),e.children[0].removeAttribute("disabled"))}))}if(t.disable){let l=t.disable;!0===l?e.querySelectorAll(".btn").forEach((e=>{e.classList.add("disabled"),e.children[0].setAttribute("disabled","")})):e.querySelectorAll(".btn").forEach((e=>{l.indexOf(e.value)>-1&&(e.classList.add("disabled"),e.children[0].setAttribute("disabled",""))}))}}}),Shiny.inputBindings.register(l,"yonder.checkbarInput");let i=new Shiny.InputBinding;$.extend(i,{find:e=>e.querySelectorAll(".yonder-checkbox[id]"),getValue:e=>{let t=e.querySelectorAll("input:checked:not(:disabled)");return 0===t.length?null:Array.prototype.map.call(t,(e=>e.value))},subscribe:(e,t)=>{let l=$(e);l.on("change.yonder",(e=>t())),l.on("checkbox.select.yonder",(e=>t()))},unsubscribe:e=>$(e).off(".yonder"),receiveMessage:(e,t)=>{if(t.content&&(e.querySelectorAll(".custom-checkbox").forEach((t=>{e.removeChild(t)})),e.insertAdjacentHTML("afterbegin",t.content)),t.selected&&(e.querySelectorAll("input:checked").forEach((e=>{e.checked=!1})),e.querySelectorAll("input").forEach((e=>{(!0===t.selected||t.selected.indexOf(e.value)>-1)&&(e.checked=!0)})),$(e).trigger("checkbox.select.yonder")),t.enable){let l=t.enable;!0===l?e.querySelectorAll("input").forEach((e=>{e.removeAttribute("disabled")})):e.querySelectorAll("input").forEach((e=>{l.indexOf(e.value)>-1&&e.removeAttribute("disabled")}))}if(t.disable){let l=t.disable;!0===l?e.querySelectorAll("input").forEach((e=>{e.setAttribute("disabled","")})):e.querySelectorAll("input").forEach((e=>{l.indexOf(e.value)>-1&&e.setAttribute("disabled","")}))}t.valid&&(e.querySelector(".invalid-feedback").innerHTML="",e.querySelector(".valid-feedback").innerHTML=t.valid,e.querySelectorAll("input").forEach((e=>{e.classList.remove("is-invalid"),e.classList.add("is-valid")}))),t.invalid&&(e.querySelector(".valid-feedback").innerHTML="",e.querySelector(".inavlid-feedback").innerHTML=t.invalid,e.querySelectorAll("input").forEach((e=>{e.classList.remove("is-valid"),e.classList.add("is-invalid")}))),t.valid||t.invalid||(e.querySelectorAll(".valid-feedback").forEach((e=>e.innerHTML="")),e.querySelectorAll(".invalid-feedback").forEach((e=>e.innerHTML="")),e.querySelectorAll("input").forEach((e=>{e.classList.remove("is-valid"),e.classList.remove("is-invalid")})))}}),Shiny.inputBindings.register(i,"yonder.checkboxInput");let n=new Shiny.InputBinding;$.extend(n,{selectorActive:".active",selectorToggle:"input[data-toggle='dropdown']",find:e=>e.querySelectorAll(".yonder-chip[id]"),initialize:e=>{let t=$(e),l=$(e.querySelector(n.selectorToggle));t.on("input",(t=>{let i=l[0].value;n._filter(e,i),0===n._visible(e).length?l.dropdown("hide"):l.dropdown("show")})),t.on("input change",(e=>{l.dropdown("update")})),t.on("hide.bs.dropdown",(t=>{null===e.querySelector("input:focus")&&(e.querySelector("input").value="",n._filter(e,""))})),t.on("click",".dropdown-item",(t=>{t.stopPropagation(),n._add(e,t.currentTarget.value),l[0].focus()})),t.on("click",".chip",(t=>{n._remove(e,t.currentTarget.value)}));let i=+e.getAttribute("data-max");-1!==i&&n._selected(e).length>=i&&n._disable(e)},getValue:e=>{let t=e.querySelectorAll(".active");return 0===t.length?null:Array.prototype.map.call(t,(e=>e.value))},subscribe:(e,t)=>{let l=$(e);l.on("click.yonder",".dropdown-item,.chip",(e=>t())),l.on("chip.select.yonder",(e=>t()))},unsubscribe:e=>$(e).off(".yonder"),receiveMessage:(e,t)=>{let l=$(e);if(t.items&&t.chips&&(e.querySelector(".dropdown-menu").innerHTML=t.items,e.querySelector(".chips").innerHTML=t.chips),t.selected&&(!0===t.selected?e.querySelectorAll(".dropdown-item").forEach((t=>{n._add(e,t.value)})):(t.selected.reverse(),n._selected(e).forEach((t=>{n._remove(e,t.value)})),t.selected.forEach((t=>{n._add(e,t)}))),l.trigger("chip.select.yonder")),void 0!==t.max&&null!==t.max&&e.setAttribute("data-max",t.max),t.enable){let l=t.enable;!0===l?n._enable(e):e.querySelectorAll(".dropdown-item,.chip").forEach((e=>{l.indexOf(e.value)>-1&&(e.removeAttribute("disabled"),e.classList.remove("disabled"))}))}if(t.disable){let l=t.disable;!0===l?n._disable(e):e.querySelectorAll(".dropdown-item,.chip").forEach((e=>{l.indexOf(e.value)>-1&&(e.setAttribute("disabled",""),e.classList.add("disabled"))}))}},_visible:e=>e.querySelectorAll(":not(.selected),:not(.filtered)"),_selected:e=>e.querySelectorAll(".selected"),_items:(e,t)=>Array.prototype.filter.call(e.querySelectorAll(".dropdown-item"),(e=>e.value===t)),_chips:(e,t)=>Array.prototype.filter.call(e.querySelectorAll(".chip"),(e=>e.value===t)),_enable:e=>{let t=e.querySelector("input");t.removeAttribute("disabled"),t.classList.remove("disabled")},_disable:e=>{let t=e.querySelector("input");t.setAttribute("disabled",""),t.classList.add("disabled")},_filter:(e,t)=>{t=t.toLowerCase(),e.querySelectorAll(".dropdown-item").forEach((e=>{-1!==e.innerText.toLowerCase().indexOf(t)?e.classList.remove("filtered"):e.classList.add("filtered")}))},_add:(e,t)=>{let l=$(e.querySelector(n.selectorToggle)),i=e.getAttribute("data-sort");n._items(e,t).forEach((e=>{e.classList.add("selected")}));let r=e.querySelector(".chips");n._chips(e,t).forEach((e=>{"stack"===i?r.insertBefore(r.removeChild(e),r.firstChild):"queue"===i&&r.appendChild(r.removeChild(e)),e.classList.add("active")})),0===n._visible(e).length&&l.dropdown("hide");let d=+e.getAttribute("data-max");-1===d||n._selected(e).length<d?l.dropdown("update"):(l.dropdown("hide"),n._disable(e))},_remove:(e,t)=>{let l=+e.getAttribute("data-max");n._chips(e,t).forEach((e=>{e.classList.remove("active")})),n._items(e,t).forEach((e=>{e.classList.remove("selected")})),(-1===l||n._selected(e).length<l)&&n._enable(e)}}),Shiny.inputBindings.register(n,"yonder.chipInput");let r=new Shiny.InputBinding;$.extend(r,{find:e=>e.querySelectorAll(".yonder-file[id]"),initialize:e=>{let t=$(e);t.on("dragover",(e=>{e.stopPropagation(),e.preventDefault()})),t.on("dragcenter",(e=>{e.stopPropagation(),e.preventDefault()})),t.on("drop",(t=>{t.stopPropagation(),t.preventDefault(),r._upload(e,t.originalEvent.dataTransfer.files)})),t.on("change",(t=>{r._upload(e)}))},getValue:e=>null,receiveMessage:(e,t)=>{let l=e.querySelector("input");t.enable&&l.removeAttribute("disabled"),t.disable&&l.setAttribute("disabled",""),t.valid&&(e.querySelector(".valid-feedback").innerHTML=t.valid,l.classList.add("is-valid")),t.invalid&&(e.querySelector(".invalid-feedback").innerHTML=t.invalid,l.classList.remove("is-invalid")),t.valid||t.invalid||(e.querySelector(".valid-feedback").innerHTML="",e.querySelector(".invalid-feedback").innerHTML="",l.classList.remove("is-valid"),l.classList.remove("is-invalid"))},_post:function(e,t,l,i,n){let r=new XMLHttpRequest;r.open("POST",e,!0),r.setRequestHeader("Content-Type","application/octet-stream"),r.onreadystatechange=function(){r.readyState==XMLHttpRequest.DONE&&200==r.status&&i&&Shiny.shinyapp.makeRequest("uploadEnd",[t,n.id],(e=>{n.querySelector("input[type='file']").value=""}),(e=>{console.error(`uploadEnd request failed for ${n.id}: ${e}`)}))},r.send(l)},_upload:function(e,t){let l=e.querySelector("input[type='file']");if(void 0===t&&(t=l.files),!t)return;let i=(t=l.hasAttribute("multiple")?Array.prototype.slice.call(t):Array.prototype.slice.call(t,0,1)).map((e=>({name:e.name,size:e.size,type:e.type})));Shiny.shinyapp.makeRequest("uploadInit",[i],(l=>{let i=l.jobId,n=l.uploadUrl;for(var r=0;r<t.length;r++)this._post(n,i,t[r],r===t.length-1,e)}),(t=>{console.error(`uploadInit request failed for ${e.id}: ${t}`)}))}}),document.addEventListener("DOMContentLoaded",(()=>{bsCustomFileInput.init(".yonder-file[id] input[type='file']")})),Shiny.inputBindings.register(r,"yonder.fileInput");let d=new Shiny.InputBinding;$.extend(d,{find:e=>e.querySelectorAll(".yonder-form[id]"),initialize:e=>{let t=$(document),l=$(e),i={},n=null;e.querySelectorAll(".yonder-form-submit").forEach((e=>{e.setAttribute("type","submit")})),t.on("shiny:inputchanged.yonder",(t=>{if(t.el&&"event"!==t.priority)return t.el.id===e.id?(Shiny.onInputChange(e.id,n,{priority:"event"}),void t.preventDefault()):void(e.contains(t.el)&&(i[t.name]=t.value,t.preventDefault()))})),l.on("click.yonder",".yonder-form-submit",(e=>{n=e.currentTarget.value})),l.on("submit.yonder",((e,t)=>{e.preventDefault(),void 0!==t&&(n=t),Object.keys(i).forEach((e=>{Shiny.onInputChange(e,i[e],{priority:"event"})}))}))},getValue:e=>null,subscribe:(e,t)=>{$(e).on("submit.yonder",(e=>t()))},unsubscribe:e=>{$(e).off(".yonder"),$(document).off("shiny:inputchanged.yonder")},receiveMessage:(e,t)=>{void 0!==t.submit&&null!==t.submit&&$(e).trigger("submit.yonder",t.submit)}}),Shiny.inputBindings.register(d,"yonder.formInput");let a=new Shiny.InputBinding;$.extend(a,{find:e=>e.querySelectorAll(".yonder-link[id]"),initialize:e=>{$(e).on("click",(t=>e.value=+e.value+1)),e.value=0},getValue:e=>+e.value>0?+e.value:null,subscribe:(e,t)=>{let l=$(e);l.on("click.yonder",(e=>t())),l.on("link.value.yonder",(e=>t()))},unsubscribe:e=>$(e).off(".yonder"),receiveMessage:(e,t)=>{t.content&&(e.innerHTML=t.content),null!==t.value&&void 0!==t.value&&(e.value=t.value,$(e).trigger("link.value.yonder")),t.enable&&(e.classList.remove("disabled"),e.removeAttribute("disabled")),t.disable&&(e.classList.add("disabled"),e.setAttribute("disabled",""))}}),Shiny.inputBindings.register(a,"yonder.linkInput");let o=new Shiny.InputBinding;$.extend(o,{find:e=>e.querySelectorAll(".yonder-list-group[id]"),initialize:e=>{let t=$(e);t.on("click",".list-group-item-action:not(.active):not(.disabled)",(t=>{e.querySelectorAll(".active").forEach((e=>{e.classList.remove("active")})),t.currentTarget.classList.add("active")})),t.on("click",".list-group-item-action.active:not(.disabled)",(e=>{e.currentTarget.classList.remove("active")}))},getValue:e=>{let t=e.querySelectorAll(".list-group-item-action.active:not(.disabled)");return 0===t.length?null:Array.prototype.slice.call(t).map((e=>e.value))},subscribe:(e,t)=>{let l=$(e);l.on("click.yonder",(e=>t())),l.on("listgroup.select.yonder",(e=>t()))},unsubcribe:e=>$(e).off(".yonder"),receiveMessage:(e,t)=>{if(t.content&&(e.querySelectorAll(".list-group-item").forEach((t=>{e.removeChild(t)})),e.insertAdjacentHTML("afterbegin",t.content)),t.selected&&(!0!==t.selected&&e.querySelectorAll(".list-group-item.active").forEach((e=>{e.classList.remove("active")})),e.querySelectorAll(".list-group-item").forEach((e=>{(!0===t.selected||t.selected.indexOf(e.value)>-1)&&e.classList.add("active")})),$(e).trigger("listgroup.select.yonder")),t.enable){let l=t.enable;!0===l?e.querySelectorAll(".list-group-item").forEach((e=>{e.classList.remove("disabled")})):e.querySelectorAll(".list-group-item").forEach((e=>{l.indexOf(e.value)>-1&&e.classList.remove("disabled")}))}if(t.disable){let l=t.disable;!0===l?e.querySelectorAll(".list-group-item").forEach((e=>{e.classList.add("disabled")})):e.querySelectorAll(".list-group-item").forEach((e=>{l.indexOf(e.value)>-1&&e.classList.add("disabled")}))}}}),Shiny.inputBindings.register(o,"yonder.listGroupInput");let s=new Shiny.InputBinding;$.extend(s,{find:e=>e.querySelectorAll(".yonder-menu[id]"),initialize:e=>{let t=$(e);t.on("click",".dropdown-item:not(.disabled)",(t=>{let l=e.querySelector(".dropdown-item.active");null!==l&&l.classList.remove("active"),t.currentTarget.classList.add("active")})),t.on("nav.reset",(t=>{let l=e.querySelector(".dropdown-item.active");null!==l&&l.classList.remove("active")}))},getValue:e=>{let t=e.querySelector(".dropdown-item.active:not(.disabled)");return null===t?null:t.value},subscribe:(e,t)=>{let l=$(e);l.on("click.yonder",(e=>t())),l.on("menu.select.yonder",(e=>t()))},unsubscribe:e=>$(e).off(".yonder"),receiveMessage:(e,t)=>{if(t.content&&(e.querySelector(".dropdown-menu").innerHTML=t.content),t.label&&(e.querySelector(".dropdown-toggle").innerHTML=t.label),t.selected&&(e.querySelectorAll(".dropdown-item").forEach((e=>{t.selected.indexOf(e.value)>-1?e.classList.add("active"):e.classList.remove("active")})),$(e).trigger("menu.select.yonder")),t.enable){let l=t.enable;!0===l?e.querySelector(".dropdown-toggle").classList.remove("disabled"):e.querySelectorAll(".dropdown-item").forEach((e=>{l.indexOf(e.value)>-1&&e.classList.remove("disabled")}))}if(t.disable){let l=t.disable;!0===l?e.querySelector(".dropdown-toggle").classList.add("disabled"):e.querySelectorAll(".dropdown-item").forEach((e=>{l.indexOf(e.value)>-1&&e.classList.add("disabled")}))}}}),Shiny.inputBindings.register(s,"yonder.menuInput");let c=new Shiny.InputBinding;$.extend(c,{find:e=>e.querySelectorAll(".yonder-nav[id]"),initialize:e=>{let t=$(e);t.on("click",".nav-link:not(.dropdown-toggle):not(.disabled)",(t=>{let l=e.querySelector(".dropdown-item.active");null!==l&&$(l.parentNode.parentNode).trigger("nav.reset"),e.querySelectorAll(".active").forEach((e=>e.classList.remove("active"))),t.currentTarget.classList.add("active")})),t.on("click",".dropdown-item:not(.disabled)",(t=>{e.querySelectorAll(".active").forEach((e=>e.classList.remove("active"))),t.currentTarget.parentNode.parentNode.children[0].classList.add("active"),t.currentTarget.classList.add("active")}))},getValue:e=>{let t=e.querySelector(".nav-link.active:not(.disabled)");return null===t?null:t.value},subscribe:(e,t)=>{let l=$(e);l.on("click.yonder",".dropdown-item",(e=>t())),l.on("click.yonder",".nav-link:not(.dropdown-toggle)",(e=>t())),l.on("nav.select.yonder",(e=>t()))},unsubscribe:e=>$(e).off(".yonder"),receiveMessage:(e,t)=>{if(t.content&&(e.querySelectorAll(".nav-item").forEach((t=>e.removeChild(t))),e.insertAdjacentHTML("afterbegin",t.content)),t.selected&&(e.querySelectorAll(".nav-link").forEach((e=>{t.selected.indexOf(e.value)>-1?e.classList.add("active"):e.classList.remove("active")})),$(e).trigger("nav.select.yonder")),t.enable){let l=t.enable;!0===l?e.querySelectorAll(".nav-link").forEach((e=>{e.classList.remove("disabled")})):e.querySelectorAll(".nav-link").forEach((e=>{l.indexOf(e.value)>-1&&e.classList.remove("disabled")}))}if(t.disable){let l=t.disable;!0===l?e.querySelectorAll(".nav-link").forEach((e=>{e.classList.add("disabled")})):e.querySelectorAll(".nav-link").forEach((e=>{l.indexOf(e.value)>-1&&e.classList.add("disabled")}))}}}),Shiny.inputBindings.register(c,"yonder.navInput"),Shiny.addCustomMessageHandler("yonder:pane",(e=>{if(void 0===e.type||void 0===e.data||void 0===e.data.target)return;let t=document.getElementById(e.data.target);null!==t&&("show"===e.type?function(e){if(null===e||e.classList.contains("show"))return;if(!e.parentElement.classList.contains("tab-content"))return void console.warn(`nav pane ${e.id} is missing a nav content parent element`);let t=e.parentElement.querySelector(".active");bootstrap.Tab.prototype._activate(e,e.parentElement,(()=>{const l=$.Event("hidden.bs.tab",{relatedTarget:e}),i=$.Event("shown.bs.tab",{relatedTarget:t});$(t).trigger(l),$(e).trigger(i)}))}(t):"hide"===e.type&&function(e){if(null===e||!e.classList.contains("show"))return;if(!e.parentElement.classList.contains("tab-content"))return void console.warn(`nav pane ${e.id} is missing a nav content parent element`);let t=document.createElement("div");bootstrap.Tab.prototype._activate(t,e.parentElement,(()=>{const t=$.Event("hidden.bs.tab",{relatedTarget:e});$(e).trigger(t)}))}(t))}));let u=new Shiny.InputBinding;$.extend(u,{find:e=>e.querySelectorAll(".yonder-radio[id]"),getValue:e=>{let t=e.querySelectorAll(".custom-radio > input:checked:not(:disabled)");return 0===t.length?null:Array.prototype.slice.call(t).map((e=>e.value))},subscribe:(e,t)=>{let l=$(e);l.on("change.yonder",(e=>t())),l.on("radio.select.yonder",(e=>t()))},unsubscribe:e=>{$(e).off(".yonder")},receiveMessage:(e,t)=>{if(t.content&&(e.querySelectorAll(".custom-radio").forEach((t=>{e.removeChild(t)})),e.insertAdjacentHTML("afterbegin",t.content)),t.selected&&(e.querySelectorAll("input").forEach((e=>{t.selected.indexOf(e.value)>-1?e.checked=!0:e.checked=!1})),$(e).trigger("radio.select.yonder")),t.enable){let l=t.enable;!0===l?e.querySelectorAll(".custom-radio > input").forEach((e=>{e.removeAttribute("disabled")})):e.querySelectorAll(".custom-radio > input").forEach((e=>{l.indexOf(e.value)>-1&&e.removeAttribute("disabled")}))}if(t.disable){let l=t.disable;!0===l?e.querySelectorAll(".custom-radio > input").forEach((e=>{e.setAttribute("disabled","")})):e.querySelectorAll(".custom-radio > input").forEach((e=>{l.indexOf(e.value)>-1&&e.setAttribute("disabled","")}))}t.valid&&(e.querySelector(".valid-feedback").innerHTML=t.valid,e.querySelectorAll(".custom-control-input").forEach((e=>{e.classList.add("is-valid")}))),t.invalid&&(e.querySelector(".invalid-feedback").innerHTML=t.invalid,e.querySelectorAll(".custom-control-input").forEach((e=>{e.classList.add("is-invalid")}))),t.valid||t.invalid||(e.querySelectorAll(".valid-feedback").forEach((e=>e.innerHTML="")),e.querySelectorAll(".invalid-feedback").forEach((e=>e.innerHTML="")),e.querySelectorAll(".custom-control-input").forEach((e=>{e.classList.remove("is-valid"),e.classList.remove("is-invalid")})))}}),Shiny.inputBindings.register(u,"yonder.radioInput");let y=new Shiny.InputBinding;$.extend(y,{Selector:{SELF:".yonder-radiobar[id]",SELECTED:"input:checked:not(:disabled)"},Events:[{type:"click"},{type:"change"}],find:e=>e.querySelectorAll(".yonder-radiobar[id]"),getValue:e=>{let t=e.querySelectorAll("input:checked:not(:disabled)");return 0===t.length?null:Array.prototype.slice.call(t).map((e=>e.value))},subscribe:(e,t)=>{let l=$(e);l.on("click.yonder",(e=>t())),l.on("change.yonder",(e=>t())),l.on("radiobar.select.yonder",(e=>t()))},unsubscribe:e=>{$(e).off(".yonder")},receiveMessage:(e,t)=>{if(t.content&&(e.innerHTML=t.content),t.selected&&(e.querySelectorAll("input").forEach((e=>{t.selected.indexOf(e.value)>-1?(e.checked=!0,e.parentNode.classList.add("active")):(e.checked=!1,e.parentNode.classList.remove("active"))})),$(e).trigger("radiobar.select.yonder")),t.enable){let l=t.enable;!0===l?e.querySelectorAll(".btn").forEach((e=>{e.classList.remove("disabled"),e.children[0].removeAttribute("disabled")})):e.querySelectorAll("input").forEach((e=>{l.indexOf(e.value)>-1&&(e.parentNode.classList.remove("disabled"),e.removeAttribute("disabled"))}))}if(t.disable){let l=t.disable;!0===l?e.querySelectorAll(".btn").forEach((e=>{e.classList.add("disabled"),e.children[0].setAttribute("disabled","")})):e.querySelectorAll("input").forEach((e=>{l.indexOf(e.value)>-1&&(e.parentNode.classList.add("disabled"),e.setAttribute("disabled",""))}))}}}),Shiny.inputBindings.register(y,"yonder.radiobarInput");let v=new Shiny.InputBinding;$.extend(v,{find:e=>e.querySelectorAll(".yonder-range[id]"),getId:e=>e.id,getValue:e=>+e.children[0].value,subscribe:(e,t)=>{let l=$(e);l.on("input.yonder",t(!0)),l.on("range.value.yonder")},unsubscribe:e=>$(e).off(".yonder"),receiveMessage:(e,t)=>{let l=e.children[0];t.value&&(l.value=t.value),t.enable&&l.removeAttribute("disabled"),t.disable&&l.setAttribute("disabled","")}}),Shiny.inputBindings.register(v,"yonder.rangeInput");let p=new Shiny.InputBinding;$.extend(p,{find:e=>e.querySelectorAll(".yonder-select[id]"),initialize:e=>{let t=$(e);t.on("click",".dropdown-item",(e=>{t[0].querySelector("input").placeholder=e.currentTarget.innerText;let l=t[0].querySelector(".active");l&&l.classList.remove("active"),e.currentTarget.classList.add("active")}));let l=$(e.querySelector("input"));t.on("input change","input",(t=>{let i=l[0].value.toLowerCase();e.querySelectorAll(".dropdown-item").forEach((e=>{-1===e.innerText.toLowerCase().indexOf(i)?e.classList.add("filtered"):e.classList.remove("filtered")})),l.dropdown("update")})),t.on("hide.bs.dropdown",(t=>{l[0].value="",e.querySelectorAll(".filtered").forEach((e=>{e.classList.remove("filtered")}))}))},getValue:e=>{let t=e.querySelectorAll(".dropdown-item.active:not(.disabled)");return 0===t.length?null:Array.prototype.slice.call(t).map((e=>e.value))},subscribe:(e,t)=>{let l=$(e);l.on("click.yonder",".dropdown-item",(e=>t())),l.on("select.select.yonder",(e=>t()))},unsubscribe:e=>{$(e).off(".yonder")},receiveMessage:(e,t)=>{if(t.content){e.querySelector(".dropdown-menu").innerHTML=t.content;let l=e.querySelector("input");l.placeholder=l.getAttribute("data-original-placeholder")||""}if(t.selected&&(e.querySelectorAll(".dropdown-item").forEach((l=>{!0===t.selected||t.selected.indexOf(l.value)>-1?(l.classList.add("active"),e.querySelector("input").placeholder=l.innerText):l.classList.remove("active")})),$(e).trigger("select.select.yonder")),t.enable){let l=t.enable;!0===l?e.querySelector("input").removeAttribute("disabled"):e.querySelectorAll(".dropdown-item").forEach((e=>{l.indexOf(e.value)>-1&&e.classList.remove("disabled")}))}if(t.disable){let l=t.disable;!0===l?e.querySelector("input").setAttribute("disabled",""):e.querySelectorAll(".dropdown-item").forEach((e=>{l.indexOf(e.value)>-1&&e.classList.add("disabled")}))}if(t.valid&&(e.querySelector("input").classList.add("is-valid"),e.querySelector(".valid-feedback").innerHTML=t.valid),t.invalid&&(e.querySelector("input").classList.add("is-invalid"),e.querySelector(".invalid-feedback").innerHTML=t.invalid),!t.valid&&!t.invalid){let t=e.querySelector("input");t.classList.remove("is-valid"),t.classList.remove("is-invalid"),e.querySelector(".valid-feedback").innerHTML="",e.querySelector(".invalid-feedback").innerHTML=""}}}),Shiny.inputBindings.register(p,"yonder.selectInput");let b=new Shiny.InputBinding;$.extend(b,{find:e=>e.querySelectorAll(".yonder-group-select[id]"),getValue:e=>{let t=e.querySelectorAll(".input-group-prepend .input-group-text, select, .input-group-append .input-group-text");return Array.prototype.slice.call(t).map((e=>/^(DIV|SPAN)$/.test(e.tagName)?e.innerText:e.value||null)).filter((e=>null!==e))},getType:()=>"yonder.group.select",subscribe:(e,t)=>{let l=$(e);e.querySelectorAll(".btn").length>0?l.on("click",".dropdown-item",(e=>t())):(l.on("change",(e=>t())),l.on("groupselect.select.yonder",(e=>t())))},receiveMessage:(e,t)=>{let l=e.querySelector("input[data-toggle='dropdown']");t.content&&(l.innerHTML=t.content),t.selected&&(l.querySelectorAll("option").forEach((e=>{t.selected.indexOf(e.value)>-1?e.setAttribute("selected",""):e.removeAttribute("selected")})),$(e).trigger("groupselect.select.yonder")),t.enable&&(!0===t.enable?l.removeAttribute("disabled"):l.querySelectorAll("option").forEach((e=>{e.removeAttribute("disabled")}))),t.disable&&(t.disable?l.setAttribute("disabled",""):l.querySelectorAll("option").forEach((e=>{e.setAttribute("disabled","")}))),t.valid&&(e.querySelector("valid-feedback").innerHTML=t.valid,l.classList.remove("is-invalid"),l.classList.add("is-valid")),t.invalid&&(e.querySelector("invalid-feedback").innerHTML=t.invalid,l.classList.remove("is-valid"),l.classList.add("is-invalid")),t.valid||t.invalid||(l.classList.remove("is-valid"),l.classList.remove("is-invalid"),e.querySelector("invalid-feedback").innerHTML="",e.querySelector("valid-feedback").innerHTML="")}}),Shiny.inputBindings.register(b,"yonder.groupSelectInputBinding");let g=new Shiny.InputBinding;$.extend(g,{find:e=>e.querySelectorAll(".yonder-textual[id]"),getValue:e=>{let t=e.children[0];return""===t.value?null:"number"===t.type?Number(t.value):t.value},subscribe:(e,t)=>{let l=$(e);l.on("change.yonder",(e=>t(!0))),l.on("input.yonder",(e=>t(!0))),l.on("textual.value.yonder",(e=>t(!0)))},unsubscribe:e=>$(e).off(".yonder"),getRatePolicy:()=>({policy:"debounce",delay:250}),receiveMessage:(e,t)=>{null!==t.value&&(e.querySelector("input").value=t.value,$(e).trigger("textual.value.yonder")),t.enable&&e.children[0].removeAttribute("disabled"),t.disable&&e.children[0].setAttribute("disabled","");let l=e.querySelector("input");t.valid&&(e.querySelector(".valid-feedback").innerHTML=t.valid,l.classList.remove("is-invalid"),l.classList.add("is-valid")),t.invalid&&(e.querySelector(".invalid-feedback").innerHTML=t.invalid,l.classList.remove("is-valid"),l.classList.add("is-invalid")),t.valid||t.invalid||(e.querySelector(".valid-feedback").innerHTML="",e.querySelector(".invalid-feedback").innerHTML="",l.classList.remove("is-valid"),l.classList.remove("is-invalid"))}}),Shiny.inputBindings.register(g,"yonder.textualInput");let f=new Shiny.InputBinding;$.extend(f,{find:e=>e.querySelectorAll(".yonder-group-text[id]"),getValue:e=>{let t=e.querySelectorAll(".input-group-prepend .input-group-text, input, .input-group-append .input-group-text");return Array.prototype.slice.call(t).map((e=>/^(DIV|SPAN)$/.test(e.tagName)?e.innerText:e.value||null)).filter((e=>null!==e))},getType:()=>"yonder.group.text",getRatePolicy:e=>({policy:"debounce",delay:250}),subscribe:(e,t)=>{let l=$(e);e.querySelectorAll(".btn").length>0?(l.on("click.yonder",".dropdown-item",(e=>t())),l.on("click.yonder",".btn:not(.dropdown-toggle",(e=>t()))):(l.on("input.yonder",(e=>t(!0))),l.on("change.yonder",(e=>t(!0))),l.on("textual.value.yonder",(e=>t())))},unsubscribe:e=>$(e).off(".yonder"),receiveMessage:(e,t)=>{let l=e.querySelector("input");t.value&&(l.value=t.value,$(e).trigger("textual.value.yonder")),t.enable&&l.removeAttribute("disabled"),t.disable&&l.setAttribute("disabled",""),t.valid&&(e.querySelector("valid-feedback").innerHTML=t.valid,l.classList.remove("is-invalid"),l.classList.add("is-valid")),t.invalid&&(e.querySelector("invalid-feedback").innerHTML=t.invalid,l.classList.remove("is-valid"),l.classList.add("is-invalid")),t.valid||t.invalid||(l.classList.remove("is-valid"),l.classList.remove("is-invalid"),e.querySelector("invalid-feedback").innerHTML="",e.querySelector("valid-feedback").innerHTML="")}}),Shiny.inputBindings.register(f,"yonder.groupTextInput"),Shiny.addCustomMessageHandler("yonder:collapse",(e=>{if(void 0===e.type||void 0===e.data||void 0===e.data.target)return!1;if("show"===e.type||"hide"===e.type||"toggle"===e.type){let t=document.getElementById(e.data.target);return null!==t&&($(t).collapse(e.type),!0)}return!1})),Shiny.addCustomMessageHandler("yonder:download",(e=>{if(!(e.filename&&e.token&&e.key))throw"invalid download event";const t=`/session/${e.token}/download/${e.key}`;let l=window.navigator.userAgent;if(!0===/MSIE/.test(l)){let l=new XMLHttpRequest;l.open("GET",t),l.responseType="blob",l.onload=()=>saveAs(l.response,e.filename),l.send()}else fetch(t).then((e=>e.blob())).then((t=>{saveAs(t,e.filename)}))})),Shiny.addCustomMessageHandler("yonder:content",(e=>{e.type&&("replace"===e.type?(e=>{if(!e.id)return;let t=document.getElementById(e.id);t&&(e.dependencies&&Shiny.renderDependencies(e.dependencies),e.content&&(Shiny.unbindAll(t),t.innerHTML=e.content,Shiny.initializeInputs(t),Shiny.bindAll(t)),e.attrs&&Object.keys(e.attrs).forEach((l=>{t.setAttribute(l,e.attrs[l])})))})(e.data):"remove"===e.type?(e=>{if(!e.id)return;let t=document.getElementById(e.id);t&&(Shiny.unbindAll(t),t.innerHTML="")})(e.data):console.warn(`no content "${e.type}" method`))})),$((()=>{document.body.insertAdjacentHTML("beforeend","<div class='yonder-modals'></div>")})),Shiny.addCustomMessageHandler("yonder:modal",(function(e){if(void 0===e.type)return!1;"close"===e.type?function(e){let t=document.querySelector(".yonder-modals").childNodes;0!==t.length&&(e.id&&(t=Array.prototype.filter.call(t,(t=>t.id===e.id))),t.forEach((e=>{e.classList.contains("yonder-modal")&&$(e).modal("hide")})))}(e.data):"show"===e.type?function(e){if(e.id){let t=document.getElementById(e.id);if(t&&t.classList.contains("yonder-modal"))return void console.warn("ignoring modal with duplicate id")}e.dependencies&&Shiny.renderDependencies(e.dependencies);let t=document.querySelector(".yonder-modals");t.insertAdjacentHTML("beforeend",e.content);let l=t.querySelector(".yonder-modal:last-child");Shiny.initializeInputs(l),Shiny.bindAll(l),$(l).one("hidden.bs.modal",(e=>{l.id&&(Shiny.onInputChange(l.id,!0),setTimeout((()=>Shiny.onInputChange(l.id,null)),100)),Shiny.unbindAll(l),t.removeChild(l)})),$(l).modal("show")}(e.data):console.warn(`no modal ${e.type} method`)})),Shiny.addCustomMessageHandler("yonder:popover",(e=>{e.data.id&&document.getElementById(e.data.id)&&("show"===e.type?(e=>{let t=$(document.getElementById(e.id));t.popover({content:()=>{},placement:e.placement,template:e.content,title:()=>{},trigger:"manual"}),e.duration&&setTimeout((()=>t.popover("hide")),e.duration),t.popover("show")})(e.data):"close"===e.type?(e=>{let t=document.getElementById(e.id);t&&$(t).popover("hide")})(e.data):console.warn(`no "${e.type}" popover method`))})),$((()=>{document.body.insertAdjacentHTML("beforeend","<div class='yonder-toasts'></div>"),$(".yonder-toasts").on("hidden.bs.toast",".toast",(e=>{if(e.currentTarget.hasAttribute("data-action")){let t=e.currentTarget.getAttribute("data-action");Shiny.onInputChange(t,!0),setTimeout((()=>Shiny.onInputChange(t,null)),100)}e.delegateTarget.removeChild(e.currentTarget)}))})),Shiny.addCustomMessageHandler("yonder:toast",(e=>{var t;e.type&&("show"===e.type?(t=e.data,document.querySelector(".yonder-toasts").insertAdjacentHTML("beforeend",t.content),$(".yonder-toasts > .toast:last-child").toast("show")):"close"===e.type?function(){let e=document.querySelectorAll(".yonder-toasts .toast");e.length&&$(e).toast("hide")}(e.data):console.warn(`no toast ${e.type} method`))})),$((()=>$('[data-toggle="tooltip"]').tooltip()))}));
//# sourceMappingURL=yonder.min.js.map