{"version":3,"file":"yonder.js","sources":["../src/polyfill.js","../src/input-binding-button-group.js","../src/input-binding-button.js","../src/input-binding-checkbar.js","../src/input-binding-checkbox.js","../src/input-binding-chip.js","../src/input-binding-file.js","../src/input-binding-form.js","../src/input-binding-link.js","../src/input-binding-list-group.js","../src/input-binding-menu.js","../src/input-binding-nav.js","../src/input-binding-radio.js","../src/input-binding-radiobar.js","../src/input-binding-range.js","../src/input-binding-select.js","../src/input-binding-textual.js","../src/collapse.js","../src/download.js","../src/content.js","../src/modal.js","../src/popover.js","../src/toast.js","../src/yonder.js"],"sourcesContent":["// IE 11, ensure querySelectorAll + forEach works\nif (window.NodeList && !NodeList.prototype.forEach) {\n  NodeList.prototype.forEach = Array.prototype.forEach;\n}\n","export let buttonGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonGroupInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-button-group[id]\"),\n  getType: (el) => \"yonder.button.group\",\n  initialize: (el) => {\n    $(el).on(\"click\", \"button\", (e) => {\n      el.setAttribute(\"data-value\", e.currentTarget.value);\n    });\n  },\n  getValue: (el) => {\n    let value = el.getAttribute(\"data-value\");\n\n    if (value === undefined) {\n      value = null;\n    }\n\n    return { force: Date.now(), value: value };\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \"button\", (e) => callback());\n    $el.on(\"buttongroup.value.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.value) {\n      el.setAttribute(\"data-value\", msg.value);\n    }\n\n    if (msg.enable) {\n      el.querySelectorAll(\"button\").forEach(btn => {\n        if (msg.enable === true || msg.enable.indexOf(btn.value) > -1) {\n          btn.classList.remove(\"disabled\");\n          btn.removeAttribute(\"disabled\");\n        }\n      });\n    }\n\n    if (msg.disable) {\n      el.querySelectorAll(\"button\").forEach(btn => {\n        if (msg.disable === true || msg.disable.indexOf(btn.value) > -1) {\n          btn.classList.add(\"disabled\");\n          btn.setAttribute(\"disabled\", \"\");\n        }\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(buttonGroupInputBinding, \"yonder.buttonGroupInput\");\n","export let buttonInputBinding = new Shiny.InputBinding();\n\n$.extend(buttonInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-button[id]\"),\n  initialize: (el) => {\n    $(el).on(\"click\", e => el.value = +el.value + 1);\n    el.value = 0;\n  },\n  getValue: (el) => +el.value > 0 ? +el.value : null,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"button.value.yonder\", (e) => callback());\n  },\n  unsubscribe: (el, callback) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.value !== null && msg.value !== undefined) {\n      el.value = msg.value;\n      $(el).trigger(\"button.value.yonder\");\n    }\n\n    if (msg.enable) {\n      el.classList.remove(\"disabled\");\n      el.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      el.classList.add(\"disabled\");\n      el.setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.tooltip !== null) {\n      el.setAttribute(\"data-animation\", msg.tooltip.fade);\n      el.setAttribute(\"data-html\", \"true\");\n      el.setAttribute(\"data-placement\", msg.tooltip.placement);\n      el.setAttribute(\"data-toggle\", \"tooltip\");\n      el.setAttribute(\"title\", msg.tooltip.title);\n      el.setAttribute(\"data-original-title\", msg.tooltip.title);\n\n      $(el).tooltip();\n\n      if (el.matches(\":hover\")) {\n        $(el).tooltip(\"show\");\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(buttonInputBinding, \"yonder.buttonInput\");\n","export let checkbarInputBinding = new Shiny.InputBinding();\n\n$.extend(checkbarInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-checkbar[id]\"),\n  getValue: (el) => {\n    let checked = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (checked.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(checked, c => c.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", e => callback());\n    $el.on(\"change.yonder\", e => callback());\n    $el.on(\"checkbar.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".btn\").forEach(btn => {\n        el.removeChild(btn);\n      });\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      if (msg.selected !== true) {\n        el.querySelectorAll(\"input:checked\").forEach(input => {\n          input.checked = false;\n          input.parentNode.classList.remove(\"active\");\n        });\n      }\n\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected === true || msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n          input.parentNode.classList.add(\"active\");\n        }\n      });\n\n      $(el).trigger(\"checkbar.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.remove(\"disabled\");\n          btn.children[0].removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          if (enable.indexOf(btn.value) > -1) {\n            btn.classList.remove(\"disabled\");\n            btn.children[0].removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.add(\"disabled\");\n          btn.children[0].setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          if (disable.indexOf(btn.value) > -1) {\n            btn.classList.add(\"disabled\");\n            btn.children[0].setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(checkbarInputBinding, \"yonder.checkbarInput\");\n","export let checkboxInputBinding = new Shiny.InputBinding();\n\n$.extend(checkboxInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-checkbox[id]\"),\n  getValue: (el) => {\n    let checked = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (checked.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(checked, c => c.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", (e) => callback());\n    $el.on(\"checkbox.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".custom-checkbox\").forEach(box => {\n        el.removeChild(box);\n      });\n\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\"input:checked\").forEach(input => {\n        input.checked = false;\n      });\n\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected === true || msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n        }\n      });\n\n      $(el).trigger(\"checkbox.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\"input\").forEach(input => {\n          input.removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\"input\").forEach(input => {\n          input.setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (disable.indexOf(input.value) > -1) {\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-invalid\");\n        input.classList.add(\"is-valid\");\n      });\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".inavlid-feedback\").innerHTML = msg.invalid;\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-valid\");\n        input.classList.add(\"is-invalid\");\n      });\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelectorAll(\".valid-feedback\").forEach(vf => vf.innerHTML = \"\");\n      el.querySelectorAll(\".invalid-feedback\").forEach(ivf => ivf.innerHTML = \"\");\n\n      el.querySelectorAll(\"input\").forEach(input => {\n        input.classList.remove(\"is-valid\");\n        input.classList.remove(\"is-invalid\");\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(checkboxInputBinding, \"yonder.checkboxInput\");\n","export let chipInputBinding = new Shiny.InputBinding();\n\n$.extend(chipInputBinding, {\n  selectorActive: \".active\",\n  selectorToggle: \"input[data-toggle='dropdown']\",\n\n  find: (scope) => scope.querySelectorAll(\".yonder-chip[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n    let $toggle = $(el.querySelector(chipInputBinding.selectorToggle));\n\n    $el.on(\"input\", (e) => {\n      let value = $toggle[0].value;\n\n      chipInputBinding._filter(el, value);\n\n      if (chipInputBinding._visible(el).length === 0) {\n        $toggle.dropdown(\"hide\");\n      } else {\n        $toggle.dropdown(\"show\");\n      }\n    });\n\n    $el.on(\"input change\", (e) => {\n      $toggle.dropdown(\"update\");\n    });\n\n    $el.on(\"hide.bs.dropdown\", (e) => {\n      if (el.querySelector(\"input:focus\") === null) {\n        el.querySelector(\"input\").value = \"\";\n        chipInputBinding._filter(el, \"\");\n      }\n    });\n\n    $el.on(\"click\", \".dropdown-item\", (e) => {\n      e.stopPropagation();\n\n      chipInputBinding._add(el, e.currentTarget.value);\n      $toggle[0].focus();\n    });\n\n    $el.on(\"click\", \".chip\", (e) => {\n      chipInputBinding._remove(el, e.currentTarget.value);\n    });\n\n    let max = +el.getAttribute(\"data-max\");\n\n    if (max !== -1 && chipInputBinding._selected(el).length >= max) {\n      chipInputBinding._disable(el);\n    }\n  },\n  getValue: (el) => {\n    let selected = el.querySelectorAll(\".active\");\n\n    if (selected.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.map.call(selected, s => s.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item,.chip\", (e) => callback());\n    $el.on(\"chip.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    let $el = $(el);\n\n    if (msg.items && msg.chips) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.items;\n      el.querySelector(\".chips\").innerHTML = msg.chips;\n    }\n\n    if (msg.selected) {\n      if (msg.selected === true) {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          chipInputBinding._add(el, item.value);\n        });\n      } else {\n        msg.selected.reverse();\n\n        chipInputBinding._selected(el).forEach(item => {\n          chipInputBinding._remove(el, item.value);\n        });\n\n        msg.selected.forEach(value => {\n          chipInputBinding._add(el, value);\n        });\n      }\n\n      $el.trigger(\"chip.select.yonder\");\n    }\n\n    if (msg.max !== undefined && msg.max !== null) {\n      el.setAttribute(\"data-max\", msg.max);\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        chipInputBinding._enable(el);\n        // el.querySelector(\"input\").removeAttribute(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item,.chip\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.removeAttribute(\"disabled\");\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        chipInputBinding._disable(el);\n        // el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n      } else {\n        el.querySelectorAll(\".dropdown-item,.chip\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.setAttribute(\"disabled\", \"\");\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  },\n\n\n  _visible: (el) => {\n    return el.querySelectorAll(\":not(.selected),:not(.filtered)\");\n  },\n  _selected: (el) => {\n    return el.querySelectorAll(\".selected\");\n  },\n  _items: (el, value) => {\n    return Array.prototype.filter.call(\n      el.querySelectorAll(\".dropdown-item\"),\n      chip => chip.value === value\n    );\n  },\n  _chips: (el, value) => {\n    return Array.prototype.filter.call(\n      el.querySelectorAll(\".chip\"),\n      chip => chip.value === value\n    );\n  },\n\n  _enable: (el) => {\n    let input = el.querySelector(\"input\");\n    input.removeAttribute(\"disabled\");\n    input.classList.remove(\"disabled\");\n  },\n  _disable: (el) => {\n    let input = el.querySelector(\"input\");\n    input.setAttribute(\"disabled\", \"\");\n    input.classList.add(\"disabled\");\n  },\n  _filter: (el, value) => {\n    value = value.toLowerCase();\n\n    el.querySelectorAll(\".dropdown-item\").forEach(item => {\n      let match = item.innerText.toLowerCase().indexOf(value) !== -1;\n\n      if (match) {\n        item.classList.remove(\"filtered\");\n      } else {\n        item.classList.add(\"filtered\");\n      }\n    });\n  },\n  _add: (el, value) => {\n    let $toggle = $(el.querySelector(chipInputBinding.selectorToggle));\n    let sort = el.getAttribute(\"data-sort\");\n\n    chipInputBinding._items(el, value).forEach(item => {\n      item.classList.add(\"selected\");\n    });\n\n    let chips = el.querySelector(\".chips\");\n    chipInputBinding._chips(el, value).forEach(chip => {\n      if (sort === \"stack\") {\n        chips.insertBefore(chips.removeChild(chip), chips.firstChild);\n      } else if (sort === \"queue\") {\n        chips.appendChild(chips.removeChild(chip));\n      }\n\n      chip.classList.add(\"active\");\n    });\n\n    if (chipInputBinding._visible(el).length === 0) {\n      $toggle.dropdown(\"hide\");\n    }\n\n    let max = +el.getAttribute(\"data-max\");\n\n    if (max === -1 || chipInputBinding._selected(el).length < max) {\n      $toggle.dropdown(\"update\");\n    } else {\n      $toggle.dropdown(\"hide\");\n      chipInputBinding._disable(el);\n    }\n  },\n  _remove: (el, value) => {\n    let max = +el.getAttribute(\"data-max\");\n\n    chipInputBinding._chips(el, value).forEach(chip => {\n      chip.classList.remove(\"active\");\n    });\n\n    chipInputBinding._items(el, value).forEach(item => {\n      item.classList.remove(\"selected\");\n    });\n\n    if (max === -1 || chipInputBinding._selected(el).length < max) {\n      chipInputBinding._enable(el);\n    }\n  }\n});\n\nShiny.inputBindings.register(chipInputBinding, \"yonder.chipInput\");\n","export let fileInputBinding = new Shiny.InputBinding();\n\n$.extend(fileInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-file[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"dragover\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    $el.on(\"dragcenter\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    $el.on(\"drop\", (e) => {\n      e.stopPropagation();\n      e.preventDefault();\n\n      fileInputBinding._upload(el, e.originalEvent.dataTransfer.files);\n    });\n\n    $el.on(\"change\", (e) => {\n      fileInputBinding._upload(el);\n    });\n  },\n  getValue: (el) => null,\n  receiveMessage: (el, msg) => {\n    let input = el.querySelector(\"input\");\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      input.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      input.classList.remove(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n    }\n  },\n  _post: function(uri, job, file, final, el) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", uri, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200 && final) {\n        Shiny.shinyapp.makeRequest(\n          \"uploadEnd\",\n          [job, el.id],\n          (res) => {\n            el.querySelector(\"input[type='file']\").value = \"\";\n          },\n          (err) => {\n            console.error(`uploadEnd request failed for ${ el.id }: ${ err }`);\n          }\n        );\n      }\n    };\n\n    xhr.send(file);\n  },\n  _upload: function(el, files) {\n    let input = el.querySelector(\"input[type='file']\");\n\n    if (files === undefined) {\n      files = input.files;\n    }\n\n    if (!files) {\n      return;\n    }\n\n    if (!input.hasAttribute(\"multiple\")) {\n      files = Array.prototype.slice.call(files, 0, 1);\n    } else {\n      files = Array.prototype.slice.call(files);\n    }\n\n    let info = files.map(f => {\n      return { name: f.name, size: f.size, type: f.type };\n    });\n\n    Shiny.shinyapp.makeRequest(\n      \"uploadInit\",\n      [info],\n      (res) => {\n        let job = res.jobId;\n        let uri = res.uploadUrl;\n\n        for (var i = 0; i < files.length; i++) {\n          this._post(uri, job, files[i], i === (files.length - 1), el);\n        }\n      },\n      (err) => {\n        console.error(`uploadInit request failed for ${ el.id }: ${ err }`);\n      }\n    );\n  }\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  bsCustomFileInput.init(\".yonder-file[id] input[type='file']\");\n});\n\nShiny.inputBindings.register(fileInputBinding, \"yonder.fileInput\");\n","export let formInputBinding = new Shiny.InputBinding();\n\n$.extend(formInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-form[id]\"),\n  initialize: (el) => {\n    let $document = $(document);\n    let $el = $(el);\n\n    let store = {};\n    let value = null;\n\n    el.querySelectorAll(\".yonder-form-submit\").forEach(s => {\n      s.setAttribute(\"type\", \"submit\");\n    });\n\n    $document.on(\"shiny:inputchanged.yonder\", (e) => {\n      if (!e.el || e.priority === \"event\") {\n        return;\n      }\n\n      if (e.el.id === el.id) {\n        Shiny.onInputChange(el.id, value, { priority: \"event\" });\n        e.preventDefault();\n        return;\n      }\n\n      if (el.contains(e.el)) {\n        store[e.name] = e.value;\n        e.preventDefault();\n      }\n    });\n\n    $el.on(\"click.yonder\", \".yonder-form-submit\", (e) => {\n      value = e.currentTarget.value;\n    });\n\n    $el.on(\"submit.yonder\", (e, v) => {\n      e.preventDefault();\n\n      if (v !== undefined) {\n        value = v;\n      }\n\n      Object.keys(store).forEach(key => {\n        Shiny.onInputChange(key, store[key], { priority: \"event\" });\n      });\n    });\n  },\n  getValue: (el) => null,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"submit.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n    $(document).off(\"shiny:inputchanged.yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.submit !== undefined && msg.submit !== null) {\n      $(el).trigger(\"submit.yonder\", msg.submit);\n    }\n  }\n});\n\nShiny.inputBindings.register(formInputBinding, \"yonder.formInput\");\n","export let linkInputBinding = new Shiny.InputBinding();\n\n$.extend(linkInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-link[id]\"),\n  initialize: (el) => {\n    $(el).on(\"click\", e => el.value = +el.value + 1);\n    el.value = 0;\n  },\n  getValue: (el) => +el.value > 0 ? +el.value : null,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"link.value.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.value !== null && msg.value !== undefined) {\n      el.value = msg.value;\n      $(el).trigger(\"link.value.yonder\");\n    }\n\n    if (msg.enable) {\n      el.classList.remove(\"disabled\");\n      el.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      el.classList.add(\"disabled\");\n      el.setAttribute(\"disabled\", \"\");\n    }\n  }\n});\n\nShiny.inputBindings.register(linkInputBinding, \"yonder.linkInput\");\n","export let listGroupInputBinding = new Shiny.InputBinding();\n\n$.extend(listGroupInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-list-group[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".list-group-item-action:not(.active):not(.disabled)\", (e) => {\n      el.querySelectorAll(\".active\").forEach(item => {\n        item.classList.remove(\"active\");\n      });\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    $el.on(\"click\", \".list-group-item-action.active:not(.disabled)\", (e) => {\n      e.currentTarget.classList.remove(\"active\");\n    });\n  },\n  getValue: (el) => {\n    let items = el.querySelectorAll(\".list-group-item-action.active:not(.disabled)\");\n\n    if (items.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(items).map(i => i.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"listgroup.select.yonder\", (e) => callback());\n  },\n  unsubcribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".list-group-item\").forEach(item => {\n        el.removeChild(item);\n      });\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      if (msg.selected !== true) {\n        el.querySelectorAll(\".list-group-item.active\").forEach(item => {\n          item.classList.remove(\"active\");\n        });\n      }\n\n      el.querySelectorAll(\".list-group-item\").forEach(item => {\n        if (msg.selected === true || msg.selected.indexOf(item.value) > -1) {\n          item.classList.add(\"active\");\n        }\n      });\n\n      $(el).trigger(\"listgroup.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          item.classList.remove(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          item.classList.add(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".list-group-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(listGroupInputBinding, \"yonder.listGroupInput\");\n","export let menuInputBinding = new Shiny.InputBinding();\n\n$.extend(menuInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-menu[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".dropdown-item:not(.disabled)\", (e) => {\n      let active = el.querySelector(\".dropdown-item.active\");\n      if (active !== null) {\n        active.classList.remove(\"active\");\n      }\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    $el.on(\"nav.reset\", (e) => {\n      let active = el.querySelector(\".dropdown-item.active\");\n      if (active !== null) {\n        active.classList.remove(\"active\");\n      }\n    });\n  },\n  getValue: (el) => {\n    let active = el.querySelector(\".dropdown-item.active:not(.disabled)\");\n\n    if (active === null) {\n      return null;\n    }\n\n    return active.value;\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", (e) => callback());\n    $el.on(\"menu.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.content;\n    }\n\n    if (msg.label) {\n      let toggle = el.querySelector(\".dropdown-toggle\");\n      toggle.innerHTML = msg.label;\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\".dropdown-item\").forEach(item => {\n        if (msg.selected.indexOf(item.value) > -1) {\n          item.classList.add(\"active\");\n        } else {\n          item.classList.remove(\"active\");\n        }\n      });\n\n      $(el).trigger(\"menu.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelector(\".dropdown-toggle\").classList.remove(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelector(\".dropdown-toggle\").classList.add(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(menuInputBinding, \"yonder.menuInput\");\n","export let navInputBinding = new Shiny.InputBinding();\n\n$.extend(navInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-nav[id]\"),\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".nav-link:not(.dropdown-toggle):not(.disabled)\", (e) => {\n      let active = el.querySelector(\".dropdown-item.active\");\n\n      if (active !== null) {\n        // trigger reset on menu input\n        $(active.parentNode.parentNode).trigger(\"nav.reset\");\n      }\n\n      el.querySelectorAll(\".active\").forEach(a => a.classList.remove(\"active\"));\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    $el.on(\"click\", \".dropdown-item:not(.disabled)\", (e) => {\n      el.querySelectorAll(\".active\").forEach(a => a.classList.remove(\"active\"));\n      e.currentTarget.parentNode.parentNode.children[0].classList.add(\"active\");\n      e.currentTarget.classList.add(\"active\");\n    });\n  },\n  getValue: (el) => {\n    let active = el.querySelector(\".nav-link.active:not(.disabled)\");\n\n    if (active === null) {\n      return null;\n    }\n\n    return active.value;\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item\", (e) => callback());\n    $el.on(\"click.yonder\", \".nav-link:not(.dropdown-toggle)\", (e) => callback());\n    $el.on(\"nav.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".nav-item\").forEach(item => el.removeChild(item));\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\".nav-link\").forEach(link => {\n        if (msg.selected.indexOf(link.value) > -1) {\n          link.classList.add(\"active\");\n        } else {\n          link.classList.remove(\"active\");\n        }\n      });\n\n      $(el).trigger(\"nav.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          link.classList.remove(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          if (enable.indexOf(link.value) > -1) {\n            link.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          link.classList.add(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".nav-link\").forEach(link => {\n          if (disable.indexOf(link.value) > -1) {\n            link.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(navInputBinding, \"yonder.navInput\");\n\nShiny.addCustomMessageHandler(\"yonder:pane\", (msg) => {\n  let _show = function(pane) {\n    if (pane === null || pane.classList.contains(\"show\")) {\n      return;\n    }\n\n    if (!pane.parentElement.classList.contains(\"tab-content\")) {\n      console.warn(`nav pane ${ pane.id } is missing a nav content parent element`);\n      return;\n    }\n\n    let previous = pane.parentElement.querySelector(\".active\");\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      const shownEvent = $.Event(\"shown.bs.tab\", {\n        relatedTarget: previous\n      });\n\n      $(previous).trigger(hiddenEvent);\n      $(pane).trigger(shownEvent);\n    };\n\n    bootstrap.Tab.prototype._activate(pane, pane.parentElement, complete);\n  };\n\n  let _hide = function(pane) {\n    if (pane === null || !pane.classList.contains(\"show\")) {\n      return;\n    }\n\n    if (!pane.parentElement.classList.contains(\"tab-content\")) {\n      console.warn(`nav pane ${ pane.id } is missing a nav content parent element`);\n      return;\n    }\n\n    const complete = () => {\n      const hiddenEvent = $.Event(\"hidden.bs.tab\", {\n        relatedTarget: pane\n      });\n\n      $(pane).trigger(hiddenEvent);\n    };\n\n    let dummy = document.createElement(\"div\");\n\n    bootstrap.Tab.prototype._activate(dummy, pane.parentElement, complete);\n  };\n\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return;\n  }\n\n  let target = document.getElementById(msg.data.target);\n\n  if (target === null) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(target);\n  } else if (msg.type === \"hide\") {\n    _hide(target);\n  }\n});\n","export let radioInputBinding = new Shiny.InputBinding();\n\n$.extend(radioInputBinding, {\n  find: (scope) => {\n    return scope.querySelectorAll(\".yonder-radio[id]\");\n  },\n  getValue: (el) => {\n    let radios = el.querySelectorAll(\".custom-radio > input:checked:not(:disabled)\");\n\n    if (radios.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(radios).map(r => r.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", e => callback());\n    $el.on(\"radio.select.yonder\", (e) => callback());\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelectorAll(\".custom-radio\").forEach((radio) => {\n        el.removeChild(radio);\n      });\n\n      el.insertAdjacentHTML(\"afterbegin\", msg.content);\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n        } else {\n          input.checked = false;\n        }\n      });\n\n      $(el).trigger(\"radio.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          input.removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          input.setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\".custom-radio > input\").forEach(input => {\n          if (disable.indexOf(input.value)> -1) {\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.add(\"is-valid\");\n      });\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.add(\"is-invalid\");\n      });\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelectorAll(\".valid-feedback\").forEach(vf => vf.innerHTML = \"\");\n      el.querySelectorAll(\".invalid-feedback\").forEach(ivf => ivf.innerHTML = \"\");\n\n      el.querySelectorAll(\".custom-control-input\").forEach(radio => {\n        radio.classList.remove(\"is-valid\");\n        radio.classList.remove(\"is-invalid\");\n      });\n    }\n  }\n});\n\nShiny.inputBindings.register(radioInputBinding, \"yonder.radioInput\");\n","export let radiobarInputBinding = new Shiny.InputBinding();\n\n$.extend(radiobarInputBinding, {\n  Selector: {\n    SELF: \".yonder-radiobar[id]\",\n    SELECTED: \"input:checked:not(:disabled)\"\n  },\n  Events: [\n    { type: \"click\" },\n    { type: \"change\" }\n  ],\n  find: (scope) => scope.querySelectorAll(\".yonder-radiobar[id]\"),\n  getValue: (el) => {\n    let radios = el.querySelectorAll(\"input:checked:not(:disabled)\");\n\n    if (radios.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(radios).map(r => r.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", e => callback());\n    $el.on(\"change.yonder\", e => callback());\n    $el.on(\"radiobar.select.yonder\", e => callback());\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.innerHTML = msg.content;\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\"input\").forEach(input => {\n        if (msg.selected.indexOf(input.value) > -1) {\n          input.checked = true;\n          input.parentNode.classList.add(\"active\");\n        } else {\n          input.checked = false;\n          input.parentNode.classList.remove(\"active\");\n        }\n      });\n\n      $(el).trigger(\"radiobar.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.remove(\"disabled\");\n          btn.children[0].removeAttribute(\"disabled\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (enable.indexOf(input.value) > -1) {\n            input.parentNode.classList.remove(\"disabled\");\n            input.removeAttribute(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelectorAll(\".btn\").forEach(btn => {\n          btn.classList.add(\"disabled\");\n          btn.children[0].setAttribute(\"disabled\", \"\");\n        });\n      } else {\n        el.querySelectorAll(\"input\").forEach(input => {\n          if (disable.indexOf(input.value) > -1) {\n            input.parentNode.classList.add(\"disabled\");\n            input.setAttribute(\"disabled\", \"\");\n          }\n        });\n      }\n    }\n  }\n});\n\nShiny.inputBindings.register(radiobarInputBinding, \"yonder.radiobarInput\");\n","export let rangeInputBinding = new Shiny.InputBinding();\n\n$.extend(rangeInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-range[id]\"),\n  getId: (el) => el.id,\n  getValue: (el) => +el.children[0].value,\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"input.yonder\", callback(true));\n    $el.on(\"range.value.yonder\");\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    let input = el.children[0];\n\n    if (msg.value) {\n      input.value = msg.value;\n    }\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n  }\n});\n\nShiny.inputBindings.register(rangeInputBinding, \"yonder.rangeInput\");\n","export let selectInputBinding = new Shiny.InputBinding();\n\n$.extend(selectInputBinding, {\n  find: (scope) => {\n    return scope.querySelectorAll(\".yonder-select[id]\");\n  },\n  initialize: (el) => {\n    let $el = $(el);\n\n    $el.on(\"click\", \".dropdown-item\", (e) => {\n      $el[0].querySelector(\"input\").placeholder = e.currentTarget.innerText;\n\n      let prev = $el[0].querySelector(\".active\");\n      if (prev) {\n        prev.classList.remove(\"active\");\n      }\n\n      e.currentTarget.classList.add(\"active\");\n    });\n\n    let $input = $(el.querySelector(\"input\"));\n    $el.on(\"input change\", \"input\", (e) => {\n      let pattern = $input[0].value.toLowerCase();\n\n      el.querySelectorAll(\".dropdown-item\").forEach(item => {\n        if (item.innerText.toLowerCase().indexOf(pattern) === -1) {\n          item.classList.add(\"filtered\");\n        } else {\n          item.classList.remove(\"filtered\");\n        }\n      });\n\n      $input.dropdown(\"update\");\n    });\n\n    $el.on(\"hide.bs.dropdown\", (e) => {\n      $input[0].value = \"\";\n      el.querySelectorAll(\".filtered\").forEach(f => {\n        f.classList.remove(\"filtered\");\n      });\n    });\n  },\n  getValue: (el) => {\n    let selected = el.querySelectorAll(\".dropdown-item.active:not(.disabled)\");\n\n    if (selected.length === 0) {\n      return null;\n    }\n\n    return Array.prototype.slice.call(selected).map(o => o.value);\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"click.yonder\", \".dropdown-item\", (e) => callback());\n    $el.on(\"select.select.yonder\", (e) => callback()); // ha.\n  },\n  unsubscribe: (el) => {\n    $(el).off(\".yonder\");\n  },\n  receiveMessage: (el, msg) => {\n    if (msg.content) {\n      el.querySelector(\".dropdown-menu\").innerHTML = msg.content;\n\n      let input = el.querySelector(\"input\");\n      input.placeholder = input.getAttribute(\"data-original-placeholder\") || \"\";\n    }\n\n    if (msg.selected) {\n      el.querySelectorAll(\".dropdown-item\").forEach(item => {\n        if (msg.selected === true || msg.selected.indexOf(item.value) > -1) {\n          item.classList.add(\"active\");\n          el.querySelector(\"input\").placeholder = item.innerText;\n        } else {\n          item.classList.remove(\"active\");\n        }\n      });\n\n      $(el).trigger(\"select.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        el.querySelector(\"input\").removeAttribute(\"disabled\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (enable.indexOf(item.value) > -1) {\n            item.classList.remove(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable === true) {\n        el.querySelector(\"input\").setAttribute(\"disabled\", \"\");\n      } else {\n        el.querySelectorAll(\".dropdown-item\").forEach(item => {\n          if (disable.indexOf(item.value) > -1) {\n            item.classList.add(\"disabled\");\n          }\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"input\").classList.add(\"is-valid\");\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"input\").classList.add(\"is-invalid\");\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      let input = el.querySelector(\"input\");\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n    }\n  }\n});\n\nShiny.inputBindings.register(selectInputBinding, \"yonder.selectInput\");\n\nexport let groupSelectInputBinding = new Shiny.InputBinding();\n\n$.extend(groupSelectInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-group-select[id]\"),\n  getValue: (el) => {\n    let inputs = el.querySelectorAll(\".input-group-prepend .input-group-text, select, .input-group-append .input-group-text\");\n\n    return Array.prototype.slice.call(inputs)\n      .map(i => /^(DIV|SPAN)$/.test(i.tagName) ? i.innerText : (i.value || null))\n      .filter(value => value !== null);\n  },\n  getType: () => \"yonder.group.select\",\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    if (el.querySelectorAll(\".btn\").length > 0) {\n      $el.on(\"click\", \".dropdown-item\", (e) => callback());\n    } else {\n      $el.on(\"change\", (e) => callback());\n      $el.on(\"groupselect.select.yonder\", (e) => callback());\n    }\n  },\n  receiveMessage: (el, msg) => {\n    let select = el.querySelector(\"input[data-toggle='dropdown']\");\n\n    if (msg.content) {\n      select.innerHTML = msg.content;\n    }\n\n    if (msg.selected) {\n      select.querySelectorAll(\"option\").forEach(option => {\n        if (msg.selected.indexOf(option.value) > -1) {\n          option.setAttribute(\"selected\", \"\");\n        } else {\n          option.removeAttribute(\"selected\");\n        }\n      });\n\n      $(el).trigger(\"groupselect.select.yonder\");\n    }\n\n    if (msg.enable) {\n      let enable = msg.enable;\n\n      if (enable === true) {\n        select.removeAttribute(\"disabled\");\n      } else {\n        select.querySelectorAll(\"option\").forEach(option => {\n          option.removeAttribute(\"disabled\");\n        });\n      }\n    }\n\n    if (msg.disable) {\n      let disable = msg.disable;\n\n      if (disable) {\n        select.setAttribute(\"disabled\", \"\");\n      } else {\n        select.querySelectorAll(\"option\").forEach(option => {\n          option.setAttribute(\"disabled\", \"\");\n        });\n      }\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"valid-feedback\").innerHTML = msg.valid;\n\n      select.classList.remove(\"is-invalid\");\n      select.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"invalid-feedback\").innerHTML = msg.invalid;\n\n      select.classList.remove(\"is-valid\");\n      select.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      select.classList.remove(\"is-valid\");\n      select.classList.remove(\"is-invalid\");\n\n      el.querySelector(\"invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\"valid-feedback\").innerHTML = \"\";\n    }\n\n  }\n});\n\nShiny.inputBindings.register(groupSelectInputBinding, \"yonder.groupSelectInputBinding\");\n","export let textualInputBinding = new Shiny.InputBinding();\n\n$.extend(textualInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-textual[id]\"),\n  getValue: (el) => {\n    let input = el.children[0];\n\n    if (input.value === \"\") {\n      return null;\n    }\n\n    return input.type === \"number\" ? Number(input.value) : input.value;\n  },\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    $el.on(\"change.yonder\", (e) => callback(true));\n    $el.on(\"input.yonder\", (e) => callback(true));\n    $el.on(\"textual.value.yonder\", (e) => callback(true));\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  getRatePolicy: () => ({ policy: \"debounce\", delay: 250 }),\n  receiveMessage: (el, msg) => {\n    if (msg.value !== null) {\n      el.querySelector(\"input\").value = msg.value;\n      $(el).trigger(\"textual.value.yonder\");\n    }\n\n    if (msg.enable) {\n      el.children[0].removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      el.children[0].setAttribute(\"disabled\", \"\");\n    }\n\n    let input = el.querySelector(\"input\");\n\n    if (msg.valid) {\n      el.querySelector(\".valid-feedback\").innerHTML = msg.valid;\n      input.classList.remove(\"is-invalid\");\n      input.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\".invalid-feedback\").innerHTML = msg.invalid;\n      input.classList.remove(\"is-valid\");\n      input.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      el.querySelector(\".valid-feedback\").innerHTML = \"\";\n      el.querySelector(\".invalid-feedback\").innerHTML = \"\";\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n    }\n  }\n});\n\nShiny.inputBindings.register(textualInputBinding, \"yonder.textualInput\");\n\nexport let groupTextInputBinding = new Shiny.InputBinding();\n\n$.extend(groupTextInputBinding, {\n  find: (scope) => scope.querySelectorAll(\".yonder-group-text[id]\"),\n  getValue: (el) => {\n    let inputs = el.querySelectorAll(\".input-group-prepend .input-group-text, input, .input-group-append .input-group-text\");\n\n    return Array.prototype.slice.call(inputs)\n      .map(i => /^(DIV|SPAN)$/.test(i.tagName) ? i.innerText : (i.value || null))\n      .filter(value => value !== null);\n  },\n  getType: () => \"yonder.group.text\",\n  getRatePolicy: (el) => ({ policy: \"debounce\", delay: 250 }),\n  subscribe: (el, callback) => {\n    let $el = $(el);\n\n    if (el.querySelectorAll(\".btn\").length > 0) {\n      $el.on(\"click.yonder\", \".dropdown-item\", (e) => callback());\n      $el.on(\"click.yonder\", \".btn:not(.dropdown-toggle\", (e) => callback());\n    } else {\n      $el.on(\"input.yonder\", (e) => callback(true));\n      $el.on(\"change.yonder\", (e) => callback(true));\n      $el.on(\"textual.value.yonder\", (e) => callback());\n    }\n  },\n  unsubscribe: (el) => $(el).off(\".yonder\"),\n  receiveMessage: (el, msg) => {\n    let input = el.querySelector(\"input\");\n\n    if (msg.value) {\n      input.value = msg.value;\n      $(el).trigger(\"textual.value.yonder\");\n    }\n\n    if (msg.enable) {\n      input.removeAttribute(\"disabled\");\n    }\n\n    if (msg.disable) {\n      input.setAttribute(\"disabled\", \"\");\n    }\n\n    if (msg.valid) {\n      el.querySelector(\"valid-feedback\").innerHTML = msg.valid;\n\n      input.classList.remove(\"is-invalid\");\n      input.classList.add(\"is-valid\");\n    }\n\n    if (msg.invalid) {\n      el.querySelector(\"invalid-feedback\").innerHTML = msg.invalid;\n\n      input.classList.remove(\"is-valid\");\n      input.classList.add(\"is-invalid\");\n    }\n\n    if (!msg.valid && !msg.invalid) {\n      input.classList.remove(\"is-valid\");\n      input.classList.remove(\"is-invalid\");\n\n      el.querySelector(\"invalid-feedback\").innerHTML = \"\";\n      el.querySelector(\"valid-feedback\").innerHTML = \"\";\n    }\n  }\n});\n\nShiny.inputBindings.register(groupTextInputBinding, \"yonder.groupTextInput\");\n","Shiny.addCustomMessageHandler(\"yonder:collapse\", (msg) => {\n  if (msg.type === undefined ||\n      msg.data === undefined ||\n      msg.data.target === undefined) {\n    return false;\n  }\n\n  if (msg.type === \"show\" || msg.type === \"hide\" || msg.type === \"toggle\") {\n    let target = document.getElementById(msg.data.target);\n\n    if (target === null) {\n      return false;\n    }\n\n    $(target).collapse(msg.type);\n    return true;\n  }\n\n  return false;\n});\n","Shiny.addCustomMessageHandler(\"yonder:download\", (msg) => {\n  if (!(msg.filename && msg.token && msg.key)) {\n    throw \"invalid download event\";\n  }\n\n  const uri = `/session/${ msg.token }/download/${ msg.key }`;\n\n  let agent = window.navigator.userAgent;\n  let ie = /MSIE/.test(agent);\n\n  if (ie === true) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", uri);\n    xhr.responseType = \"blob\";\n    xhr.onload = () => saveAs(xhr.response, msg.filename);\n    xhr.send();\n  } else {\n    fetch(uri)\n      .then(res => res.blob())\n      .then(blob => {\n        saveAs(blob, msg.filename);\n      });\n  }\n});\n","Shiny.addCustomMessageHandler(\"yonder:content\", (msg) => {\n  let _replace = (data) => {\n    if (!data.id) {\n      return;\n    }\n\n    let target = document.getElementById(data.id);\n\n    if (!target) {\n      return;\n    }\n\n    if (data.dependencies) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    if (data.content) {\n      Shiny.unbindAll(target);\n      target.innerHTML = data.content;\n      Shiny.initializeInputs(target);\n      Shiny.bindAll(target);\n    }\n\n    if (data.attrs) {\n      Object.keys(data.attrs).forEach(key => {\n        target.setAttribute(key, data.attrs[key]);\n      });\n    }\n  };\n\n  let _remove = (data) => {\n    if (!data.id) {\n      return;\n    }\n\n    let target = document.getElementById(data.id);\n\n    if (!target) {\n      return;\n    }\n\n    Shiny.unbindAll(target);\n    target.innerHTML = \"\";\n  };\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"replace\") {\n    _replace(msg.data);\n  } else if (msg.type === \"remove\") {\n    _remove(msg.data);\n  } else {\n    console.warn(`no content \"${ msg.type }\" method`);\n  }\n});\n","$(() => {\n  document.body.insertAdjacentHTML(\"beforeend\", \"<div class='yonder-modals'></div>\");\n});\n\nShiny.addCustomMessageHandler(\"yonder:modal\", function(msg) {\n  if (msg.type === undefined) {\n    return false;\n  }\n\n  let _close = function(data) {\n    let modals = document.querySelector(\".yonder-modals\").childNodes;\n\n    if (modals.length === 0) {\n      return;\n    }\n\n    if (data.id) {\n      modals = Array.prototype.filter.call(modals, m => m.id === data.id);\n    }\n\n    modals.forEach((modal) => {\n      if (!modal.classList.contains(\"yonder-modal\")) {\n        return;\n      }\n\n      $(modal).modal(\"hide\");\n    });\n  };\n\n  let _show = function(data) {\n    if (data.id) {\n      let possible = document.getElementById(data.id);\n\n      if (possible && possible.classList.contains(\"yonder-modal\")) {\n        console.warn(\"ignoring modal with duplicate id\");\n        return;\n      }\n    }\n\n    if (data.dependencies) {\n      Shiny.renderDependencies(data.dependencies);\n    }\n\n    let container = document.querySelector(\".yonder-modals\");\n\n    container.insertAdjacentHTML(\"beforeend\", data.content);\n    let modal = container.querySelector(\".yonder-modal:last-child\");\n\n    Shiny.initializeInputs(modal);\n    Shiny.bindAll(modal);\n\n    let $modal = $(modal);\n\n    $modal.one(\"hidden.bs.modal\", (e) => {\n      if (modal.id) {\n        Shiny.onInputChange(modal.id, true);\n        setTimeout(() => Shiny.onInputChange(modal.id, null), 100);\n      }\n\n      Shiny.unbindAll(modal);\n\n      container.removeChild(modal);\n    });\n\n    $(modal).modal(\"show\");\n  };\n\n  if (msg.type === \"close\") {\n    _close(msg.data);\n  } else if (msg.type === \"show\") {\n    _show(msg.data);\n  } else {\n    console.warn(`no modal ${ msg.type } method`);\n  }\n});\n","Shiny.addCustomMessageHandler(\"yonder:popover\", (msg) => {\n  if (!msg.data.id || !document.getElementById(msg.data.id)) {\n    return;\n  }\n\n  let _show = (data) => {\n    let $target = $(document.getElementById(data.id));\n\n    $target.popover({\n      content: () => undefined,\n      placement: data.placement,\n      template: data.content,\n      title: () => undefined,\n      trigger: \"manual\"\n    });\n\n    if (data.duration) {\n      setTimeout(() => $target.popover(\"hide\"), data.duration);\n    }\n\n    $target.popover(\"show\");\n  };\n\n  let _close = (data) => {\n    let target = document.getElementById(data.id);\n\n    if (!target) {\n      return;\n    }\n\n    $(target).popover(\"hide\");\n  };\n\n  if (msg.type === \"show\") {\n    _show(msg.data);\n  } else if (msg.type === \"close\") {\n    _close(msg.data);\n  } else {\n    console.warn(`no \"${ msg.type }\" popover method`);\n  }\n});\n","$(() => {\n  document.body.insertAdjacentHTML(\"beforeend\", \"<div class='yonder-toasts'></div>\");\n\n  $(\".yonder-toasts\").on(\"hidden.bs.toast\", \".toast\", (e) => {\n    if (e.currentTarget.hasAttribute(\"data-action\")) {\n      let action = e.currentTarget.getAttribute(\"data-action\");\n      Shiny.onInputChange(action, true);\n      setTimeout(() => Shiny.onInputChange(action, null), 100);\n    }\n\n    e.delegateTarget.removeChild(e.currentTarget);\n  });\n});\n\nShiny.addCustomMessageHandler(\"yonder:toast\", (msg) => {\n  let _show = function(data) {\n    document.querySelector(\".yonder-toasts\")\n      .insertAdjacentHTML(\"beforeend\", data.content);\n\n    $(\".yonder-toasts > .toast:last-child\").toast(\"show\");\n  };\n\n  let _close = function(data) {\n    let toasts = document.querySelectorAll(\".yonder-toasts .toast\");\n\n    if (toasts.length) {\n      $(toasts).toast(\"hide\");\n    }\n  };\n\n  if (!msg.type) {\n    return;\n  }\n\n  if (msg.type === \"show\") {\n    _show(msg.data);\n  } else if (msg.type === \"close\") {\n    _close(msg.data);\n  } else {\n    console.warn(`no toast ${ msg.type } method`);\n  }\n});\n","import \"./polyfill.js\";\n\nimport \"./input-binding-button-group.js\";\nimport \"./input-binding-button.js\";\nimport \"./input-binding-checkbar.js\";\nimport \"./input-binding-checkbox.js\";\nimport \"./input-binding-chip.js\";\nimport \"./input-binding-file.js\";\nimport \"./input-binding-form.js\";\nimport \"./input-binding-link.js\";\nimport \"./input-binding-list-group.js\";\nimport \"./input-binding-menu.js\";\nimport \"./input-binding-nav.js\";\nimport \"./input-binding-radio.js\";\nimport \"./input-binding-radiobar.js\";\nimport \"./input-binding-range.js\";\nimport \"./input-binding-select.js\";\nimport \"./input-binding-textual.js\";\n\nimport \"./collapse.js\";\nimport \"./download.js\";\nimport \"./content.js\";\nimport \"./modal.js\";\nimport \"./popover.js\";\nimport \"./toast.js\";\n\n$(() => $(\"[data-toggle=\\\"tooltip\\\"]\").tooltip());\n"],"names":["window","NodeList","prototype","forEach","Array","buttonGroupInputBinding","Shiny","InputBinding","$","extend","find","scope","querySelectorAll","getType","el","initialize","on","e","setAttribute","currentTarget","value","getValue","getAttribute","undefined","force","Date","now","subscribe","callback","$el","unsubscribe","off","receiveMessage","msg","content","innerHTML","enable","btn","indexOf","classList","remove","removeAttribute","disable","add","inputBindings","register","buttonInputBinding","trigger","tooltip","fade","placement","title","matches","checkbarInputBinding","checked","length","map","call","c","removeChild","insertAdjacentHTML","selected","input","parentNode","children","checkboxInputBinding","box","valid","querySelector","invalid","vf","ivf","chipInputBinding","selectorActive","selectorToggle","$toggle","_filter","_visible","dropdown","stopPropagation","_add","focus","_remove","max","_selected","_disable","s","items","chips","item","reverse","_enable","_items","filter","chip","_chips","toLowerCase","match","innerText","sort","insertBefore","firstChild","appendChild","fileInputBinding","preventDefault","_upload","originalEvent","dataTransfer","files","_post","uri","job","file","final","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","DONE","status","shinyapp","makeRequest","id","res","err","console","error","send","hasAttribute","slice","info","f","name","size","type","jobId","uploadUrl","i","document","addEventListener","bsCustomFileInput","init","formInputBinding","$document","store","priority","onInputChange","contains","v","Object","keys","key","submit","linkInputBinding","listGroupInputBinding","unsubcribe","menuInputBinding","active","label","toggle","navInputBinding","a","link","addCustomMessageHandler","_show","pane","parentElement","warn","previous","complete","hiddenEvent","Event","relatedTarget","shownEvent","bootstrap","Tab","_activate","_hide","dummy","createElement","data","target","getElementById","radioInputBinding","radios","r","radio","radiobarInputBinding","Selector","SELF","SELECTED","Events","rangeInputBinding","getId","selectInputBinding","placeholder","prev","$input","pattern","o","groupSelectInputBinding","inputs","test","tagName","select","option","textualInputBinding","Number","getRatePolicy","policy","delay","groupTextInputBinding","collapse","filename","token","agent","navigator","userAgent","ie","responseType","onload","saveAs","response","fetch","then","blob","_replace","dependencies","renderDependencies","unbindAll","initializeInputs","bindAll","attrs","body","_close","modals","childNodes","m","modal","possible","container","$modal","one","setTimeout","$target","popover","template","duration","action","delegateTarget","toast","toasts"],"mappings":"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"}